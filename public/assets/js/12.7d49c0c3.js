(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{218:function(e,t,s){"use strict";s.r(t);var a=s(0),i=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"compiler-upgrades"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#compiler-upgrades"}},[e._v("#")]),e._v(" Compiler Upgrades")]),e._v(" "),s("p",[s("strong",[e._v("Original Flags")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('mb-gcc -Wall -O0 -g3 -I"../../drm_audio_fw_bsp/microblaze_0/include" -c -fmessage-length=0 -MT"$@" -I"../../drm_audio_fw_bsp/microblaze_0/include" -mlittle-endian -mcpu=v10.0 -mxl-soft-mul -Wl,--no-relax -ffunction-sections -fdata-sections -MMD -MP -MF"$(@:%.o=%.d)" -MT"$(@)" -o "$@" "$<"\n')])])]),s("p",[s("code",[e._v("-Wall")]),e._v(" This flag is usefull in development.")]),e._v(" "),s("p",[s("code",[e._v("-Wextra")]),e._v(" Will be added to increase code quality.")]),e._v(" "),s("p",[s("code",[e._v("-Wconversion -Wsign-conversion")]),e._v(" added to warn about potential casting issues that may cause security vulnerabilities.")]),e._v(" "),s("p",[s("code",[e._v("-O0")]),e._v(" Was the original Flag, We will be applying "),s("code",[e._v("-Os")]),e._v(" to optimize for code size.")]),e._v(" "),s("p",[s("code",[e._v("-g3")]),e._v(" Tells the compiler to include debug symbols, this will be replaced with "),s("code",[e._v("-s -fvisability=hidden")]),e._v(" to strip the symbols out of the binary.")]),e._v(" "),s("p",[s("code",[e._v("-static")]),e._v(" Tells the compiler to statically link all binaries, third party libraries cant be used to affect the functionality of our code")]),e._v(" "),s("p",[s("code",[e._v("mxl-reorder")]),e._v(" To cause some chaos in reverse engeneering and exploit development by reordering instructions on run.")]),e._v(" "),s("p",[s("code",[e._v("-Wstack-protector --param ssp-buffer-size=4")]),e._v(" Adding stack protection to the elf.")]),e._v(" "),s("p",[s("code",[e._v("-Wl,-z,noexecstack")]),e._v(" Ensure the Stack is not executable.")]),e._v(" "),s("p",[s("strong",[e._v("New Compiler Options")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('mb-gcc -Wall -Wextra -Os -s -fvisibility=hidden -static -Wconversion -Wsign-conversion -fstack-check -mxl-reorder -Wstack-protector --param ssp-buffer-size=4 -ftrapv -Wl,-z,noexecstack -I"../../drm_audio_fw_bsp/microblaze_0/include" -c -fmessage-length=0 -MT"$@" -I"../../drm_audio_fw_bsp/microblaze_0/include" -mlittle-endian -mcpu=v10.0 -mxl-soft-mul -Wl,--no-relax -MMD -MP -MF"$(@:%.o=%.d)" -MT"$(@)" -o "$@" "$<"\n')])])])])}),[],!1,null,null,null);t.default=i.exports}}]);